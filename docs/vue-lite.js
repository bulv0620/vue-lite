(()=>{"use strict";const e="ROOT",t="ELEMENT",n="TEXT",r="SIMPLE_EXPRESSION",o="INTERPOLATION",c="ATTRIBUTE",s="ELEMENT";function i(e){const t=e.split(",").reduce(((e,t)=>(e[t]=!0,e)),Object.create(null));return e=>!!t[e]}const l=i("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr"),u=i("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot");function a(e){return"object"==typeof e&&null!==e}function f(e,t){return e!==t&&!(Number.isNaN(e)&&Number.isNaN(t))}function p(e){return Array.isArray(e)}function h(e){return"string"==typeof e}function d(e){return"number"==typeof e}function g(e){return e.replace(/-(\w)/g,((e,t)=>t?t.toUpperCase():""))}function m(e){return e.charAt(0).toUpperCase()+e.slice(1)}function y(e){const r=[];for(;!E(e);){const t=e.source;let n;n=t.startsWith(e.options.delimiters[0])?x(e):"<"===t[0]?k(e):v(e),r.push(n)}let o=!1;return r.forEach(((e,c)=>{if(e.type===n)if(/[^\t\r\f\n ]/.test(e.content))e.content=e.content.replace(/[\t\r\f\n ]+/g," ");else{const n=r[c-1],s=r[c+1];!n||!s||n.type===t&&s.type===t&&/[\r\n]/.test(e.content)?(o=!0,r[c]=null):e.content=" "}})),o?r.filter(Boolean):r}function v(e){const t=["<",e.options.delimiters[0]];let r=e.source.length;t.forEach((t=>{let n=e.source.indexOf(t);-1!==n&&n<r&&(r=n)}));const o=b(e,r);return{type:n,content:o}}function b(e,t){const n=e.source.slice(0,t);return w(e,t),n}function x(e){const[t,n]=e.options.delimiters;w(e,t.length);const c=e.source.indexOf(n),s=b(e,c);return w(e,n.length),{type:o,content:{type:r,content:s,isStatic:!1}}}function k(e){const t=$(e);return t.isSelfClosing||e.options.isVoidTag(t.tag)||(t.children=y(e),$(e)),t}function $(e){const n=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),r=n[1];w(e,n[0].length),S(e);const{props:o,directives:i}=function(e){const t=[],n=[];for(;e.source.length&&!e.source.startsWith(">")&&!e.source.startsWith("/>");){let r=T(e);r.type===c?t.push(r):n.push(r)}return{props:t,directives:n}}(e),l=e.source.startsWith("/>");w(e,l?2:1);const u=function(e,t){return!t.options.isNativeTag(e)}(r,e)?"COMPONENT":s;return{type:t,tag:r,tagType:u,props:o,directives:i,isSelfClosing:l,children:[]}}function T(e){const t=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];let o;if(w(e,t.length),S(e),"="===e.source[0]&&(w(e,1),S(e),o=function(e){const t=e.source[0];w(e,1);const n=e.source.indexOf(t),r=b(e,n);return w(e,1),{content:r}}(e),S(e)),/^(:|@|v-)/.test(t)){let e,n;return"@"===t[0]?(e="on",n=t.slice(1)):":"===t[0]?(e="bind",n=t.slice(1)):t.startsWith("v-")&&([e,n]=t.slice(2).split(":")),{type:"DIRECTIVE",name:e,exp:o&&{type:r,content:o.content,isStatic:!1},arg:n&&{type:r,content:g(n),isStatic:!0}}}return{type:c,name:t,value:o&&{type:n,content:o.content}}}function E(e){const t=e.source;return t.startsWith("</")||!t}function w(e,t){e.source=e.source.slice(t)}function S(e){const t=/^[\t\r\n\f ]+/.exec(e.source);t&&w(e,t[0].length)}function N(r,c){switch(r.type){case e:return 1===r.children.length?N(r.children[0],r):L(r);case t:return M(r,c);case n:return _(r);case o:return function(e){return`h(Text, null, ${C(e.content)})`}(r)}}function _(e){return`h(Text, null, ${C(e)})`}function C({isStatic:e=!0,content:t=""}={}){return e?JSON.stringify(t):t}function M(e,r){const o=O(e.directives,"if")||O(e.directives,"else-if");if(o){const{exp:c}=o;let s,i=M(e,r);const{children:l}=r,u=l.findIndex((t=>t===e))+1;for(;u<l.length;u++){const e=l[u];if(e.type!==n||e.content.trim()){e.type===t&&(O(e.directives,"else")||O(e.directives,"else-if",!1))&&(s=M(e,r),l.splice(u,1));break}l.splice(u--,1)}return`${c.content} ? ${i} : ${s||_()}`}const c=O(e.directives,"for");if(c){const{exp:t}=c,[n,o]=t.content.split(/\sin\s|\sof\s/);return`h(Fragment, null, renderList(${o.trim()}, ${n.trim()} => ${M(e,r)}))`}return function(e){const{children:t}=e,n=e.tagType===s?JSON.stringify(e.tag):`resolveComponent("${e.tag}")`,r=function(e){const{props:t,directives:n}=e;return[...t.map((e=>`${e.name}: ${C(e.value)}`)),...n.map((e=>{switch(e.name){case"bind":return`${e.arg.content}: ${C(e.exp)}`;case"on":const t=`on${m(e.arg.content)}`;let n=e.exp.content;return/\([^)]*\)$/.test(n)&&!n.includes("=>")&&(n=`$event => (${n})`),`${t}: ${n}`;case"html":return`innerHTML: ${C(e.exp)}`;default:return`${e.name}: ${C(e.exp)}`}}))]}(e);let o=r.length?`{${r.join(", ")}}`:"null";const c=O(e.directives,"model");if(c){const{exp:e}=c;o=`withModel(${n}, ${o}, () => ${C(e)}, (value) => ${C(e)} = value)`}if(!t.length)return"null"===o?`h(${n})`:`h(${n}, ${o})`;return`h(${n}, ${o}, ${L(e)})`}(e)}function L(e){const{children:t}=e;if(1===t.length){const e=t[0];if(e.type===n)return C(e);if(e.type===o)return C(e.content)}const r=[];for(let n=0;n<t.length;n++){const o=t[n];r.push(N(o,e))}return`[${r.join(", ")}]`}function O(e,t,n=!0){const r=e.findIndex((e=>e.name===t)),o=e[r];return n&&r>-1&&e.splice(r,1),o}function A(t){return`\nwith(ctx){\n    const {renderList, h, Text, Fragment, withModel, resolveComponent} = VueLite;\n    return ${N(function(t){const n=function(e){return{options:{delimiters:["{{","}}"],isVoidTag:l,isNativeTag:u},source:e}}(t);var r;return r=y(n),{type:e,children:r}}(t))};\n}\n`}const F=32,R=Symbol("Text"),I=Symbol("Fragment");function W(e,t,n){let r=0;return r=h(e)?1:e===R?2:e===I?4:8,h(n)||d(n)?(r|=16,n=n.toString()):p(n)&&(r|=F),{type:e,props:t,children:n,shapeFlag:r,el:null,anchor:null,key:t&&t.key,component:null}}function j(e,t,n){if(e!==t){e=e||{},t=t||{};for(const r in t){if("key"===r)continue;const o=t[r],c=e[r];o!==c&&P(c,o,r,n)}for(const n in e)"key"!==n&&null==t[n]&&t.el.removeAttribute(n)}}const B=/\[A-Z]|^(?:value|checked|selected|muted|disabled)$/;function P(e,t,n,r){switch(n){case"class":r.className=t||"";break;case"style":if(t){for(const e in t)r.style[e]=t[e];for(const n in e)t[n]||(r.style[n]="")}else r.removeAttribute("style");break;default:if(/^on[A-Z]/.test(n)){const o=n.slice(2).toLowerCase();e&&r.removeEventListener(o,e),t&&r.addEventListener(o,t)}else B.test(n)?(""===t&&"boolean"==typeof r[n]&&(t=!0),r[n]=t):null==t||!1===t?r.removeAttribute(n):r.setAttribute(n,t)}}const V=[];let q=null;function H(e,t={}){const n=()=>{try{return V.push(n),q=n,e()}finally{V.pop(),q=V[V.length-1]}};return t.lazy||n(),n.scheduler=t.scheduler,n}const z=new WeakMap;function U(e,t){if(!q)return;let n=z.get(e);n||z.set(e,n=new Map);let r=n.get(t);r||n.set(t,r=new Set),r.add(q)}function J(e,t){const n=z.get(e);if(!n)return;const r=n.get(t);r&&r.forEach((e=>{e.scheduler?e.scheduler(e):e()}))}const X=new WeakMap;function Z(e){if(!a(e))return e;if(function(e){return!(!e||!e.__isReactive)}(e))return e;if(X.has(e))return X.get(e);const t=new Proxy(e,{get(e,t){if("__isReactive"===t)return!0;const n=Reflect.get(...arguments);return U(e,t),a(n)?Z(n):n},set(e,t,n){const r=e[t],o=e.length,c=Reflect.set(...arguments);return f(r,n)&&J(e,t),p(e)&&f(o,e.length)&&J(e,"length"),c}});return X.set(e,t),t}class D{constructor(e,t){this._value=void 0,this._dirty=!0,this.setter=t,this.effect=H(e,{lazy:!0,scheduler:()=>{this._dirty=!0,J(this,"value")}})}get value(){return this._dirty&&(this._value=this.effect(),this._dirty=!1,U(this,"value")),this._value}set value(e){this.setter(e)}}class G{constructor(e){this.__isRef=!0,this._value=K(e)}get value(){return U(this,"value"),this._value}set value(e){f(e,this._value)&&(this._value=K(e),J(this,"value"))}}function K(e){return a(e)?Z(e):e}const Q=[];let Y=!1;const ee=Promise.resolve();let te,ne=null;function re(e){Q.length&&Q.includes(e)||(Q.push(e),Y||(Y=!0,ne=ee.then(oe)))}function oe(){try{for(let e=0;e<Q.length;e++)return(0,Q[e])()}finally{Y=!1,Q.length=0}}function ce(e,t){const{type:n}=e,r=t.props={},o=t.attrs={};for(const t in e.props)n.props?.includes(t)?r[t]=e.props[t]:o[t]=e.props[t];t.props=Z(r)}function se(e,t){const n=t._vnode;e?ue(n,e,t):n&&ie(n),t._vnode=e}function ie(e){const{shapeFlag:t,el:n}=e;8&t?function(e){ie(e.component.subTree)}(e):4&t?function(e){let{el:t,anchor:n}=e;const r=t.parentNode;for(;t!==n;)r.removeChild(t),t=t.nextSibling;r.removeChild(n)}(e):n.parentElement.removeChild(n)}function le(e){e.forEach((e=>{ie(e)}))}function ue(e,t,n,r){e&&!function(e,t){return e.type===t.type}(e,t)&&(r=(e.anchor||e.el).nextSibling,ie(e),e=null);const{shapeFlag:o}=t;8&o?function(e,t,n,r){e?function(e,t){t.component=e.component,t.component.next=t,t.component.update()}(e,t):function(e,t,n,r){const{type:o}=e,c=e.component={props:null,attrs:null,setupState:null,ctx:null,subTree:null,update:null,isMounted:!1,next:null};if(ce(e,c),c.setupState=o.setup?.(c.props,{attrs:c.attrs}),c.ctx={...c.props,...c.setupState},!o.render&&o.template){let{template:e}=o;if("#"===e[0]){const t=document.querySelector(e);e=t?t.innerHTML:""}const t=A(e);o.render=new Function("ctx",t)}c.update=H((()=>{c.next&&(e=c.next,c.next=null,ce(e,c),c.ctx={...c.props,...c.setupState});const s=c.subTree,i=c.subTree=p(l=o.render(c.ctx))?W(I,null,l):a(l)?l:W(R,null,l.toString());var l;!function(e,t){Object.keys(e.attrs).length&&(t.props={...t.props,...e.attrs})}(c,i),r(s,i,t,n),e.el=i.el,c.isMounted||(c.isMounted=!1)}),{scheduler:re})}(t,n,r,ue)}(e,t,n,r):2&o?function(e,t,n,r){e?(t.el=e.el,e.el.textContent=t.children):ae(t,n,r)}(e,t,n,r):4&o?function(e,t,n,r){const o=t.el=e?e.el:document.createTextNode(""),c=t.anchor=e?e.anchor:document.createTextNode("");e?pe(e,t,n,c):(n.insertBefore(o,r),n.insertBefore(c,r),fe(t.children,n,c))}(e,t,n,r):function(e,t,n,r){e?function(e,t){t.el=e.el,j(e.props,t.props,t.el),pe(e,t,t.el)}(e,t):function(e,t,n){const{type:r,props:o,shapeFlag:c,children:s}=e,i=document.createElement(r);j(null,o,i),16&c?ae(e,i):c&F&&fe(s,i),t.insertBefore(i,n),e.el=i}(t,n,r)}(e,t,n,r)}function ae(e,t,n){const r=document.createTextNode(e.children);t.insertBefore(r,n),e.el=r}function fe(e,t,n){e.forEach((e=>{ue(null,e,t,n)}))}function pe(e,t,n,r){const{shapeFlag:o,children:c}=e,{shapeFlag:s,children:i}=t;16&s?(o&F&&le(c),n.textContent=i):s&F?16&o?(n.textcontent="",fe(i,n,r)):o&F?function(e,t){return e[0]&&e[0].key&&t[0]&&t[0].key}(c,i)?function(e,t,n,r){let o=0,c=e.length-1,s=t.length-1;for(;o<c&&o<s&&e[o].key===t[o].key;)ue(e[o],t[o],n,r),o++;for(;o<c&&o<s&&e[c].key===t[s].key;)ue(e[c],t[s],n,r),c--,s--;if(o>c)for(let e=o;e<=s;e++){const r=t[s+1].el;ue(null,t[e],n,r)}else if(o>s)for(let t=o;t<=c;t++)ie(e[t]);else{const i=s+1,l=t[i]&&t[i].el||r;!function(e,t,n,r){const o=new Map;e.forEach(((e,t)=>{o.set(e.key,{index:t,node:e})}));let c=0,s=!1;const i=new Array(t.length).fill(-1),l=[];for(let e=0;e<t.length;e++){const u=t[e];if(o.has(u.key)){const{node:t,index:l}=o.get(u.key);ue(t,u,n,r),l<c?s=!0:c=l,i[e]=l,o.delete(u.key)}else l.push(e)}if(o.forEach((e=>{ie(e.node)})),s){const e=function(e){const t=[],n=[];for(let r=0;r<e.length;r++)if(-1!==e[r])if(e[r]>t[t.length-1])t.push(e[r]),n.push(t.length-1);else{let o=0,c=t.length-1;for(;o<=c;){let n=~~((o+c)/2);if(t[n]>e[r])c=n-1;else{if(!(t[n]<e[r])){o=n;break}o=n+1}}t[o]=e[r],n.push(o)}let r=t.length-1;for(let e=n.length-1;e>=0&&r>=0;e--)r===n[e]&&(t[r--]=e);return t}(i);let o=e.length-1;for(let c=i.length-1;c>=0;c--)if(-1!==i[c])if(e[o]===c)o--;else{const e=c,o=e+1,s=t[o]&&t[o].el||r;n.insertBefore(t[e].el,s)}}if(l.length)for(let e=l.length-1;e>=0;e--){const o=l[e],c=o+1,s=t[c]&&t[c].el||r;ue(null,t[o],n,s)}}(e.slice(o,c+1),t.slice(o,s+1),n,l)}}(c,i,n,r):function(e,t,n,r){const o=e.length,c=t.length,s=Math.min(o,c);for(let o=0;o<s;o++)ue(e[o],t[o],n,r);o>c?le(e.slice(s)):o<c&&fe(t.slice(s),n,r)}(c,i,n,r):fe(i,n,r):16&o?n.textContent="":o&F&&le(c)}window.VueLite={createApp:function(e){return te=e.components||{},{mount(t){h(t)&&(t=document.querySelector(t)),e.render||e.template||(e.template=t.innerHTML,t.innerHTML=""),se(W(e),t)}}},render:se,h:W,Text:R,Fragment:I,nextTick:function(e){const t=ne||ee;return e?t.then(e):t},reactive:Z,ref:function(e){return function(e){return!(!e||!e.__isRef)}(e)?e:new G(e)},computed:function(e){let t,n;return"function"==typeof e?(t=e,n=()=>{console.warn("computed is readonly")}):(t=e.get,n=e.set),new D(t,n)},effect:H,compile:A,renderList:function(e,t){const n=[];if(d(e))for(let r=0;r<e;r++)n.push(t(r+1,r));else if(h(e)||p(e))for(let r=0;r<e.length;r++)n.push(t(e[r],r));else a(e)&&Object.keys(e).forEach(((r,o)=>{n.push(t(e[r],r,o))}));return n},withModel:function(e,t,n,r){if(t=t||{},"input"===e)switch(t.type){case"radio":t.checked=t.value===n(),t.onChange=e=>r(e.target.value);break;case"checkbox":const e=n();p(e)?(t.checked=e.includes(t.value),t.onChange=e=>{const{value:o}=e.target,c=new Set(n());c.has(o)?c.delete(o):c.add(o),t.checked=c.has(t.value),r([...c])}):(t.checked=e,t.onChange=e=>{t.checked=e.target.checked,r(e.target.checked)});break;default:t.value=n(),t.onInput=e=>r(e.target.value)}return t},resolveComponent:function(e){return te&&(te[e]||te[g(e)]||te[m(g(e))])}}})();